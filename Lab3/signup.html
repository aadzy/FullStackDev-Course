<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign Up</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      .selected-option {
        background-color: #3b82f6;
        color: white;
        border-radius: 0.375rem;
        padding: 0.5rem;
        transition: all 0.2s ease-in-out;
      }
      
      .checkbox-label:hover {
        background-color: #f3f4f6;
        border-radius: 0.375rem;
        padding: 0.25rem;
        cursor: pointer;
      }
      
      .radio-label:hover {
        background-color: #f3f4f6;
        border-radius: 0.375rem;
        padding: 0.25rem;
        cursor: pointer;
      }
    </style>
  </head>
  <body class="bg-gray-100">
    <div class="container mx-auto p-6">
      <h1 class="text-3xl font-bold mb-6 text-center text-gray-800">Volunteer Registration</h1>
      <form id="signupForm" class="bg-white rounded-lg shadow-md p-6 max-w-2xl mx-auto">
        <div class="mb-4">
          <label for="name" class="block text-gray-700 font-bold mb-2">Full Name</label>
          <input
            type="text"
            id="name"
            name="name"
            required
            class="border border-gray-300 rounded-lg p-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-500"
          />
        </div>
        <div class="mb-4">
          <label for="email" class="block text-gray-700 font-bold mb-2">Email</label>
          <input
            type="email"
            id="email"
            name="email"
            required
            class="border border-gray-300 rounded-lg p-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-500"
          />
        </div>
        <div class="mb-4">
          <label for="contact" class="block text-gray-700 font-bold mb-2">Contact Number</label>
          <div class="flex gap-2">
            <select name="countryCode" id="countryCode" class="border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
              <option value="+1">ðŸ‡ºðŸ‡¸ +1</option>
              <option value="+91" selected>ðŸ‡®ðŸ‡³ +91</option>
              <option value="+44">ðŸ‡¬ðŸ‡§ +44</option>
              <option value="+81">ðŸ‡¯ðŸ‡µ +81</option>
              <option value="+61">ðŸ‡¦ðŸ‡º +61</option>
            </select>
            <input
              type="text"
              id="contact"
              name="contact"
              required
              class="border border-gray-300 rounded-lg p-2 flex-1 focus:outline-none focus:ring-2 focus:ring-blue-500"
            />
          </div>
        </div>
        <div class="mb-4">
          <label for="age" class="block text-gray-700 font-bold mb-2">Age</label>
          <input
            type="number"
            id="age"
            name="age"
            required
            class="border border-gray-300 rounded-lg p-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-500"
          />
        </div>

        <div class="mb-4">
          <label for="country" class="block text-gray-700 font-bold mb-2">Country</label>
          <input
            type="text"
            id="country"
            name="country"
            required
            class="border border-gray-300 rounded-lg p-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-500"
          />
        </div>

        <div class="mb-4">
        <label class="block text-gray-700 font-bold mb-2">Preferred Roles</label>
        <div class="flex flex-col space-y-2">
            <label class="inline-flex items-center checkbox-label p-2 rounded">
            <input type="checkbox" name="preferredRoles" value="usher" class="form-checkbox text-indigo-600 mr-2">
            <span>Usher</span>
            </label>
            <label class="inline-flex items-center checkbox-label p-2 rounded">
            <input type="checkbox" name="preferredRoles" value="technical_support" class="form-checkbox text-indigo-600 mr-2">
            <span>Technical Support</span>
            </label>
            <label class="inline-flex items-center checkbox-label p-2 rounded">
            <input type="checkbox" name="preferredRoles" value="social_media" class="form-checkbox text-indigo-600 mr-2">
            <span>Social Media</span>
            </label>
            <label class="inline-flex items-center checkbox-label p-2 rounded">
            <input type="checkbox" name="preferredRoles" value="registration_desk" class="form-checkbox text-indigo-600 mr-2">
            <span>Registration Desk</span>
            </label>
            <label class="inline-flex items-center checkbox-label p-2 rounded">
            <input type="checkbox" name="preferredRoles" value="logistics" class="form-checkbox text-indigo-600 mr-2">
            <span>Logistics</span>
            </label>
            <label class="inline-flex items-center checkbox-label p-2 rounded">
            <input type="checkbox" name="preferredRoles" value="crowd_management" class="form-checkbox text-indigo-600 mr-2">
            <span>Crowd Management</span>
            </label>
            <label class="inline-flex items-center checkbox-label p-2 rounded">
            <input type="checkbox" name="preferredRoles" value="photography_videography" class="form-checkbox text-indigo-600 mr-2">
            <span>Photography / Videography</span>
            </label>
        </div>
        </div>

        <div class="mb-4">
          <label for="volunteerReason" class="block text-gray-700 font-bold mb-2">Why do you want to volunteer?</label>
          <p class="block text-gray-600 text-sm mb-2">Tell us why you are interested and vouch for your eligibility and share your previous Experience (if any)</p>
          <textarea
            id="volunteerReason"
            name="volunteerReason"
            required
            rows="4"
            class="border border-gray-300 rounded-lg p-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-500"
          ></textarea>
        </div>
        
        <div class="mb-4">
          <label class="block text-gray-700 font-bold mb-2">Are you willing to travel?</label>
          <div class="flex gap-4">
            <label class="inline-flex items-center radio-label p-2 rounded">
              <input
                type="radio"
                id="willingToTravelYes"
                name="willingToTravel"
                value="yes"
                required
                class="mr-2"
              />
              <span>Yes</span>
            </label>
            <label class="inline-flex items-center radio-label p-2 rounded">
              <input
                type="radio"
                id="willingToTravelNo"
                name="willingToTravel"
                value="no"
                required
                class="mr-2"
              />
              <span>No</span>
            </label>
          </div>
        </div>

        <div class="mb-4">
          <label for="rank" class="block text-gray-700 font-bold mb-2">What's your rank?</label>
          <select name="rank" id="rank" class="border border-gray-300 rounded-lg p-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-500">
            <option value="bronze">Bronze</option>
            <option value="silver">Silver</option>
            <option value="gold" selected>Gold</option>
            <option value="platinum">Platinum</option>
            <option value="diamond">Diamond</option>
            <option value="ascendant">Ascendant</option>
            <option value="immortal">Immortal</option>
            <option value="radiant">Radiant</option>
          </select>
        </div>

        <div class="mb-6">
          <label for="tshirtSize" class="block text-gray-700 font-bold mb-2">T-Shirt Size (for event apparel)</label>
          <select name="tshirtSize" id="tshirtSize" class="border border-gray-300 rounded-lg p-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-500">
            <option value="s">Small</option>
            <option value="m">Medium</option>
            <option value="l">Large</option>
            <option value="xl">Extra Large</option>
          </select>
        </div>

        <button
          type="submit"
          class="bg-blue-500 text-white font-semibold px-6 py-3 rounded-lg hover:bg-blue-600 transition-colors duration-200 w-full"
        >
          Sign Up
        </button>
      </form>

      <!-- Display captured information -->
      <div id="capturedInfo" class="mt-8 bg-white rounded-lg shadow-md p-6 max-w-2xl mx-auto hidden">
        <h2 class="text-2xl font-bold mb-4 text-gray-800 border-b border-gray-200 pb-2">Captured Information</h2>
        <div id="infoContent" class="space-y-3 text-gray-700">
          <!-- Information will be populated here -->
        </div>
      </div>

      <script>
        // Add event listeners for checkbox and radio button highlighting
        document.addEventListener('DOMContentLoaded', function() {
          // Checkbox highlighting
          const checkboxes = document.querySelectorAll('input[type="checkbox"]');
          checkboxes.forEach(checkbox => {
            checkbox.addEventListener('change', function() {
              const label = this.closest('label');
              if (this.checked) {
                label.classList.add('selected-option');
              } else {
                label.classList.remove('selected-option');
              }
            });
          });

          // Radio button highlighting
          const radioButtons = document.querySelectorAll('input[type="radio"]');
          radioButtons.forEach(radio => {
            radio.addEventListener('change', function() {
              // Remove highlighting from all radio labels
              document.querySelectorAll('.radio-label').forEach(label => {
                label.classList.remove('selected-option');
              });
              
              // Add highlighting to selected radio label
              if (this.checked) {
                this.closest('label').classList.add('selected-option');
              }
            });
          });

          // Form submission
          const form = document.querySelector('#signupForm');
          form.addEventListener('submit', function(e) {
            e.preventDefault(); // Prevent default form submission
            
            // Capture all form data using querySelector
            const formData = {
              name: document.querySelector('#name').value,
              email: document.querySelector('#email').value,
              countryCode: document.querySelector('#countryCode').value,
              contact: document.querySelector('#contact').value,
              age: document.querySelector('#age').value,
              country: document.querySelector('#country').value,
              preferredRoles: Array.from(document.querySelectorAll('input[name="preferredRoles"]:checked')).map(cb => cb.value),
              volunteerReason: document.querySelector('#volunteerReason').value,
              willingToTravel: document.querySelector('input[name="willingToTravel"]:checked')?.value,
              rank: document.querySelector('#rank').value,
              tshirtSize: document.querySelector('#tshirtSize').value
            };

            // Display captured information
            displayCapturedInfo(formData);
          });
        });

        function displayCapturedInfo(data) {
          const infoContainer = document.querySelector('#capturedInfo');
          const infoContent = document.querySelector('#infoContent');
          
          infoContent.innerHTML = `
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div class="bg-gray-50 p-3 rounded">
                <strong class="text-blue-600">Full Name:</strong> ${data.name}
              </div>
              <div class="bg-gray-50 p-3 rounded">
                <strong class="text-blue-600">Email:</strong> ${data.email}
              </div>
              <div class="bg-gray-50 p-3 rounded">
                <strong class="text-blue-600">Contact:</strong> ${data.countryCode} ${data.contact}
              </div>
              <div class="bg-gray-50 p-3 rounded">
                <strong class="text-blue-600">Age:</strong> ${data.age}
              </div>
              <div class="bg-gray-50 p-3 rounded">
                <strong class="text-blue-600">Country:</strong> ${data.country}
              </div>
              <div class="bg-gray-50 p-3 rounded">
                <strong class="text-blue-600">Willing to Travel:</strong> ${data.willingToTravel || 'Not selected'}
              </div>
              <div class="bg-gray-50 p-3 rounded">
                <strong class="text-blue-600">Rank:</strong> ${data.rank}
              </div>
              <div class="bg-gray-50 p-3 rounded">
                <strong class="text-blue-600">T-Shirt Size:</strong> ${data.tshirtSize.toUpperCase()}
              </div>
            </div>
            <div class="mt-4">
              <div class="bg-gray-50 p-3 rounded">
                <strong class="text-blue-600">Preferred Roles:</strong>
                <div class="mt-2 flex flex-wrap gap-2">
                  ${data.preferredRoles.length > 0 ? 
                    data.preferredRoles.map(role => 
                      `<span class="bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm">${role.replace('_', ' ')}</span>`
                    ).join('') : 
                    '<span class="text-gray-500">No roles selected</span>'
                  }
                </div>
              </div>
            </div>
            <div class="mt-4">
              <div class="bg-gray-50 p-3 rounded">
                <strong class="text-blue-600">Volunteer Reason:</strong>
                <p class="mt-2 text-gray-700">${data.volunteerReason}</p>
              </div>
            </div>
          `;
          
          infoContainer.classList.remove('hidden');
          infoContainer.scrollIntoView({ behavior: 'smooth' });
        }

        function validate() {
          const name = document.querySelector('#name').value;
          const email = document.querySelector('#email').value;
          const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          const contact = document.querySelector('#contact').value;
          const age = document.querySelector('#age').value;
          const country = document.querySelector('#country').value;

          if (!name || !email || !contact || !age || !country) {
            alert('Please fill in all required fields.');
            return false;
          }
          if(!emailPattern.test(email)) {
            alert('Please enter a valid email address.');
            return false;
          } 

          return true;
        }
      </script>
    </div>
  </body>
</html>
